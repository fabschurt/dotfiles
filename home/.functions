# Displays a nice ASCII weather report right in the terminal.
#
# Args:
# $1 Name of the city to display weather for (default: value of CITY env var)
# $2 Language of the report as a 2-letter ISO 639-1 code  (default: first 2 letters of LANG env var)
weather() {
  weather_city="${1:-"${CITY}"}"
  weather_lang="${2:-"$(echo "$LANG" | head -c 2)"}"

  if [ -z "$weather_city" ]; then
    echo '[ERROR] Could not resolve your city'

    return 1
  fi

  if [ -z "$weather_lang" ]; then
    echo '[ERROR] Could not resolve your language'

    return 1
  fi

  curl -Ss "http://${weather_lang}.wttr.in/${weather_city}"

  return 0
}
